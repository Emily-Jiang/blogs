---
layout: post
title: "Developing a new cloud-native Java application with Liberty using Liberty Starter and Liberty Tools within IntelliJ IDEA"
# Do NOT change the categories section
categories: blog
author_picture: https://avatars3.githubusercontent.com/Ruilin-Ma
author_github: https://github.com/Ruilin-Ma
seo-title: Developing a new cloud-native Java application with Liberty using Liberty Starter and Liberty Tools within IntelliJ IDEA - OpenLiberty.io
seo-description: This blog is designed to assist users in initiating their journey with the Liberty Maven project with IntelliJ IDEA. It aims to help users understand how to set up the required Liberty environment using Open Liberty Starter, navigate Maven project structures, and use Liberty tools within an IDE.
blog_description: This blog is designed to assist users in initiating their journey with the Liberty Maven project with IntelliJ IDEA. It aims to help users understand how to set up the required Liberty environment using Open Liberty Starter, navigate Maven project structures, and use Liberty tools within an IDE.
open-graph-image: https://openliberty.io/img/twitter_card.jpg
open-graph-image-alt: Open Liberty Logo
---
= Developing a new cloud-native Java application with Liberty using Liberty Starter and Liberty Tools within IntelliJ IDEA
Ruilin Ma <https://github.com/Ruilin-Ma>
:imagesdir: /
:url-prefix:
:url-about: /

:figure-caption!:
//Blank line here is necessary before starting the body of the post.

This blog is designed to assist users in initiating their journey with the Liberty Maven project with IntelliJ IDEA. It aims to help users understand how to set up the required Liberty environment using Open Liberty Starter, navigate Maven project structures, and use Liberty tools within an IDE. Key aspects covered in this blog include:

* <<prerequisites, Before you start>>
* <<libertyStarter, Creating a Liberty Maven project with the Open Liberty Starter>>
* <<ImportProject, Importing the project into the IntelliJ IDEA>>
* <<AboutProject, Overview of the Liberty Maven project>>
* <<libertyToolsWithDevMode, Rapid application development with Liberty Tools>>
* <<tryLibertyDevMode, Edit your app with Liberty dev mode>>


[#prerequisites]
== Before you start

=== Installing Java

To initiate the Liberty Maven project on your end, it is necessary to install Java. It is recommended to install either Java 17 or Java 21.

Please refer to the link for setting up Java: https://www.ibm.com/support/pages/semeru-runtimes-installation

There are multiple Java distributions; find out more in link:https://foojay.io/today/where-do-you-get-your-java/[Where do you get your Java?]

Once Java installation is completed, please ensure the `JAVA_HOME` variable have been properly config in your system path. The `JAVA_HOME` variable is essential for Maven Liberty projects. It helps to indicate which JVM to use. If the JVM is not set, the system default is used. Please locate the Java installation path on your system, and then export or set the `JAVA_HOME` environment variable accordingly.

[role='command']
```
export JAVA_HOME=<your Java installation path>
```

=== Installing Liberty Tools for IDE Enhancement
Liberty Tools is necessary to install before proceeding with this blog. Please use the link:https://plugins.jetbrains.com/plugin/14856-liberty-tools[link] to install Liberty Tools on IntelliJ IDEA.

[#libertyStarter]
== Creating a Liberty Maven project with the Open Liberty Starter

The Open Liberty Starter provides a simple way for initiating an Liberty Maven project. Visit the link:https://openliberty.io/start/[Open Liberty Starter page], define your application and project name, select a build tool (either Maven), and indicate the preferred versions of Java SE, Jakarta EE, and MicroProfile for your application. Finally, click on `Generate Project` to download your project seamlessly.

image::img/blog/liberty-starter.png[Maven dependencies example,width=60%,align="center"]

[#ImportProject]
== Importing the project into the IntelliJ IDEA

When using IntelliJ IDEA, you can either navigate to `File` > `Open...` within the IDE or simply drag and drop the project folder into the IDE window for seamless integration.

[#AboutProject]
== Overview of the Liberty Maven project

=== Project structure

A well-organized file structure is crucial for Maven projects, providing a clear framework for development. This hierarchy includes directories for application code, MicroProfile, Liberty configuration and tests.

image::img/blog/liberty-app-directory-img.png[Liberty Project directory image,width=40%,align="center"]

Referring to the demo Maven project's structure shown in the picture: 

- `src/main/java`: Java application code files
- `src/main/liberty/config`: Liberty configuration files
- `src/main/resources/META-INF`: MicroProfile configuration files
- `src/test`: Test files
- `Dockerfile`: Dockerfile for building the Docker image
- `mvnw`/`mvnw.cmd`: Maven Wrapper script for Unix-like/Windows systems


Within the `app-name` directory, the `pom.xml` file containing configuration details for the project, encompassing dependencies, plugins, and other settings.

=== Declaring dependencies
Maven manage the project through the Maven configuration `pom.xml` file. To declare dependencies, `<dependencies>` section should be used. For example:

[source]
----
<dependencies>
    <dependency>
        <groupId>jakarta.platform</groupId>
        <artifactId>jakarta.jakartaee-api</artifactId>
        <version>10.0.0</version>
        <scope>provided</scope>
    </dependency>
</dependencies>
----

In this example, the `jakarta.jakartaee-api` from `jakarta.platform` has been introduced as a dependency for this project. 

For adding or updating dependencies in a Maven project, you can visit the link:https://mvnrepository.com/[Maven Library] for more information.

=== Adding plugins
Plugins enhance the functionality of Maven by providing additional capabilities. Common plugins encompass tasks such as compiling code, running tests, packaging applications, and more. For instance:

[source]
----
<pluginManagement>
    <plugins>
        <plugin>
            <groupId>io.openliberty.tools</groupId>
            <artifactId>liberty-maven-plugin</artifactId>
            <version>3.10.2</version>
        </plugin>
    </plugins>
</pluginManagement>
----

//explain lmp here
In this example, the `liberty-maven-plugin` from `io.openliberty.tools` has been introduced as a plugin for this project. The Liberty Maven Plugin offers several goals for managing a Liberty runtime, including tasks such as downloading and installing the Liberty runtime, starting or stopping a Liberty server in development mode, installing features, and deploying applications. Please visit link:https://github.com/OpenLiberty/ci.maven/blob/main/README.md[Liberty Maven Plugin Document] for more information.


[#libertyToolsWithDevMode]
== Rapid application development with Liberty Tools

=== Introducing Liberty Tools
Liberty Tools enhances the application development experience with Open Liberty by providing convenient features. It includes a Liberty Dashboard for organizing projects and integrates Liberty dev mode directly into your IDE. 

The Liberty Dashboard effectively manages Maven projects, seamlessly integrating configurations for Open Liberty. Moreover, it facilitates rapid development of MicroProfile and Jakarta EE applications by offering automatic code blocks, auto-complete functionality, and real-time syntax validation. With just a few clicks, you can start or stop your app, run tests, and check reports. 

Furthermore, Liberty dev mode can swiftly apply code changes to your running app without needing to restart the server, ensuring faster development.

You may opt to use Liberty Tools for enhanced convenience:

image::img/blog/Liberty-Tools-Example.png[Liberty Tools Example image, title="An example integrating Liberty Dashboard from Liberty Tools into a Maven project with IntelliJ IDEA", width=30%,align="center"]

Liberty Tools offer three methods to assist you in starting your Liberty application in development mode: Start, Start with configuration, or Start in a container. To start your application in dev mode, click the `Start` action for your application in the Liberty Dashboard.

To effectively use the Liberty Tools for Liberty dev mode and other Liberty dashboard option, consulting the link:https://github.com/OpenLiberty/liberty-tools-intellij/blob/main/docs/user-guide.md#run-your-application-on-liberty-using-dev-mode[user guide provided with IntelliJ IDEA] is recommended. For more information about liberty development mode and container support for development mode, please visit the link:https://openliberty.io/docs/latest/development-mode.html[dev mode document].

You can also visit articles on IBM Developers for More information about Liberty Tools: link:https://developer.ibm.com/articles/awb-effective-cloud-native-development-open-liberty-intellij-idea/[Effective cloud-native Java app development with Open Liberty in IntelliJ IDEA]

Additionally, you can use the command line.

Open a command line session, navigate to the installation directory, and run the following command 

[role='command']
```
./mvnw liberty:dev
```

This will install all required dependencies and start the default server in dev mode. If successful, you will see the necessary features installed and the following messages:

[role='no_copy']
```
[INFO] [AUDIT   ] CWWKF0012I: The server installed the following features: [appAuthentication-3.0, appAuthorization-2.1, appClientSupport-2.0, appSecurity-5.0, batch-2.1, beanValidation-3.0, cdi-4.0, concurrent-3.0, connectors-2.1, distributedMap-1.0, enterpriseBeans-4.0, enterpriseBeansHome-4.0, enterpriseBeansLite-4.0, enterpriseBeansPersistentTimer-4.0 ... ].
[INFO] [AUDIT   ] CWWKF0011I: The defaultServer server is ready to run a smarter planet. The defaultServer server started in 6.514 seconds.
...           
[INFO] ************************************************************************
[INFO] *    Liberty is running in dev mode.
...
[INFO] ************************************************************************
[INFO] Source compilation was successful.
```

[#tryLibertyDevMode]
== Edit your app with Liberty dev mode

Dev mode can automatically detect, recompile, and deploy code changes whenever you save a new change in your IDE or text editor. To try out this feature, an example of creating a simple REST Resource Java File is provided.

Please check out the project and ensure that Liberty dev mode is running. Then, create a new Java class file named `HelloWorldResource.java` as the REST resource.

[source]
```
src/main/java/com/demo/rest/HelloWorldResource.java
```

and paste following code into the file: 

[source,java]
```
package com.demo.rest;

import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;

@Path("/hello")
public class HelloWorldResource {

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    public String helloWorld() {
        return "Hello, World!";
    }
}
```

Once the console displays `Web application available`, it indicates that the Liberty server has successfully detected, recompiled and deployed the changes. You can now view the message drafted in the example by accessing the link: http://localhost:9080/app-name/api/hello

== Next Steps
Visit our guides to learn more about Open Liberty

- Check out link:https://openliberty.io/guides/getting-started.html[the Getting started with Open Liberty guide]
- Check out link:https://openliberty.io/guides/rest-intro.html[the Creating a RESTful web service guide]
